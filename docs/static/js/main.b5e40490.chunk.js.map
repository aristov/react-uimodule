{"version":3,"sources":["Heading.js","Button.js","Example.js","Control.js","Label.js","Popup.js","TextBox.js","Dialog.js","CloseButton.js","Option.js","ListBox.js","generateId.js","DialogHead.js","DialogBody.js","CancelButton.js","Button.example.js","ListBox.example.js","TextBox.example.js","Popup.example.js","Dialog.example.js","Radio.js","RadioGroup.js","RadioGroup.example.js","Showcase.js","index.js","CheckBox.js","CheckBox.example.js","SelectBox.js","SelectBox.example.js","DialogButton.js","DialogButton.example.js"],"names":["Heading","props","className","role","aria-level","level","children","Button","state","active","pressed","defaultPressed","elem","React","createRef","onBlur","setState","onClick","e","disabled","preventDefault","nativeEvent","stopImmediatePropagation","defaultPrevented","activate","onMouseDown","onMouseLeave","onMouseUp","onKeyDown","handler","code","call","onKeyUp","tabIndex","this","classList","flat","Infinity","filter","Boolean","join","title","aria-pressed","aria-disabled","aria-controls","controls","aria-haspopup","hasPopup","aria-expanded","expanded","ref","label","undefined","current","click","Component","Example","Control","Label","DEBOUNCE","INTERVAL","CancelContext","createContext","Popup","hidden","position","closeTimer","positionTimer","hide","clearTimeout","setHandlers","document","addEventListener","onDocClick","onDocFocusIn","onDocKeyDown","modal","onDocScroll","window","onWinResize","clearHandlers","removeEventListener","updatePositionTick","debounce","setTimeout","updatePosition","node","anchor","style","transition","direction","dataset","top","left","rectA","getBoundingClientRect","rectP","directions","alternatives","fallback","Math","min","max","innerHeight","height","innerWidth","width","stopPropagation","onCancelEvent","target","contains","popup","closest","body","layout","aria-hidden","onTransitionEnd","Provider","value","ReactDOM","createPortal","open","close","setImmediate","duration","durations","getComputedStyle","transitionDuration","split","map","parseFloat","getMaxTransitionDuration","activeElement","focus","result","isAnchorInterface","defaultProps","methods","every","name","right","bottom","TextBox","defaultValue","edit","onFocus","onInput","textContent","dispatchEvent","Event","bubbles","onChange","selection","getSelection","_anchorOffset","anchorOffset","_focusOffset","focusOffset","onPaste","readOnly","data","clipboardData","getData","text","startOffset","endOffset","beforeText","slice","afterText","length","collapse","firstChild","InputEvent","contentEditable","extend","multiLine","Dialog","headingId","generateId","id","aria-modal","aria-labelledby","setFocus","autofocus","querySelector","removeAttribute","nodes","getTabSequence","child","display","isContentEditable","hasAttribute","push","tagName","type","href","hasChildNodes","first","last","shiftKey","CloseButton","rest","Consumer","Option","updateValue","aria-selected","selected","ListBox","options","option","prevProps","prevState","snapshot","index","findIndex","counter","str","toString","repeat","getElementById","DialogHead","DialogBody","onScroll","toggle","scrollTop","CancelButton","ButtonExample","useState","setPressed","i","String","ListBoxExample","setValue","TextBoxExample","PopupSimpleExample","setHidden","setAnchor","getAnchor","useCallback","PopupModalExample","setExpanded","PopupExample","DialogSimpleExample","DialogModalExample","DialogExample","Radio","aria-checked","checked","RadioGroup","radios","radio","offset","moveFocus","RadioGroupExample","Showcase","createElement","require","default","render","StrictMode","CheckBox","defaultChecked","CheckBoxExample","setChecked","SelectBox","rendered","getElem","listBox","listBoxId","includes","onListBoxChange","onListBoxClick","multiSelectable","checkable","required","find","aria-required","SelectBoxExample","DialogButton","dialogId","dialog","DialogButtonExample"],"mappings":"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","file":"static/js/main.b5e40490.chunk.js","sourcesContent":["import React from 'react'\nimport './Heading.css'\n\nexport function Heading(props) {\n  return (\n    <div\n      className=\"Heading\"\n      role=\"heading\"\n      aria-level={ props.level || 1 }\n      { ...props }\n    >\n      { props.children }\n    </div>\n  )\n}\n","import React from 'react'\nimport { Control } from './Control'\nimport './Button.css'\n\nexport class Button extends React.Component\n{\n  state = {\n    active : false,\n    pressed : this.props.defaultPressed,\n  }\n\n  elem = React.createRef()\n\n  render() {\n    const tabIndex = this.props.disabled? null : this.props.tabIndex\n    const classList = [\n      this.props.classList,\n      'Button Widget',\n      this.state.active && 'active',\n    ]\n    return (\n      <div\n        className={ classList.flat(Infinity).filter(Boolean).join(' ') }\n        tabIndex={ typeof tabIndex === 'undefined'? 0 : tabIndex }\n        title={ this.props.title }\n        role=\"button\"\n        aria-pressed={ this.props.pressed ?? this.state.pressed }\n        aria-disabled={ this.props.disabled }\n        aria-controls={ this.props.controls }\n        aria-haspopup={ this.props.hasPopup }\n        aria-expanded={ this.props.expanded }\n        onBlur={ this.onBlur }\n        onClick={ this.onClick }\n        onMouseDown={ this.onMouseDown }\n        onMouseLeave={ this.onMouseLeave }\n        onMouseUp={ this.onMouseUp }\n        onKeyDown={ this.onKeyDown }\n        onKeyUp={ this.onKeyUp }\n        ref={ this.elem }\n      >\n        <Control>\n          { this.props.label || this.props.children }\n        </Control>\n      </div>\n    )\n  }\n\n  activate() {\n    if(this.state.pressed !== undefined) {\n      this.setState(state => ({ pressed : !state.pressed }))\n    }\n  }\n\n  onBlur = () => {\n    this.state.active && this.setState({ active : false })\n  }\n\n  onClick = e => {\n    this.props.onClick?.(e)\n    if(this.props.disabled) {\n      e.preventDefault()\n      e.nativeEvent.stopImmediatePropagation()\n    }\n    e.defaultPrevented || this.activate()\n  }\n\n  onMouseDown = () => {\n    if(!this.props.disabled) {\n      this.setState({ active : true })\n    }\n  }\n\n  onMouseLeave = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  onMouseUp = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  onKeyDown = e => {\n    const handler = this['onKeyDown_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyUp = e => {\n    const handler = this['onKeyUp_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyDown_Space(e) {\n    e.preventDefault()\n    this.setState({ active : true })\n  }\n\n  onKeyUp_Space() {\n    this.setState({ active : false })\n    this.elem.current.click()\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import React from 'react'\n\nexport function Example(props) {\n  return (\n    <article className=\"Example\">{ props.children }</article>\n  )\n}\n","import React from 'react'\nimport './Control.css'\n\nexport function Control(props) {\n  return (\n    <div className=\"Control\">{ props.children }</div>\n  )\n}\n","import React from 'react'\nimport './Label.css'\n\nexport function Label(props) {\n  return (\n    <div className=\"Label\">{ props.children }</div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './Popup.css'\n\nconst DEBOUNCE = 200\nconst INTERVAL = 1000\n\nexport const CancelContext = React.createContext()\n\nexport class Popup extends React.Component\n{\n  state = {\n    hidden : true,\n  }\n\n  elem = React.createRef()\n\n  position = [null, null]\n\n  closeTimer = null\n\n  positionTimer = null\n\n  render() {\n    const { props, state } = this\n    if(props.hidden && state.hidden) {\n      return null\n    }\n    const layout = (\n      <div\n        className={ ['Popup', props.modal && 'modal'].filter(Boolean).join(' ') }\n        aria-hidden={ !props.hidden && !state.hidden? null : props.hidden }\n        onKeyDown={ this.onKeyDown }\n        onTransitionEnd={ props.hidden && !state.hidden? this.hide : null }\n        ref={ this.elem }\n      >\n        <div className=\"PopupContent\">\n          <CancelContext.Provider value={ this.props.onCancelEvent }>\n            { props.children }\n          </CancelContext.Provider>\n        </div>\n      </div>\n    )\n    return props.modal? ReactDOM.createPortal(layout, document.body) : layout\n  }\n\n  componentDidMount() {\n    this.props.hidden || this.open()\n  }\n\n  componentDidUpdate() {\n    if(this.state.hidden) {\n      this.props.hidden || this.open()\n      return\n    }\n    if(this.props.hidden) {\n      this.close()\n      return\n    }\n    this.props.modal || this.updatePositionTick()\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.closeTimer)\n    this.closeTimer = null\n    this.clearHandlers()\n  }\n\n  open() {\n    this.props.modal || this.updatePositionTick()\n    setImmediate(() => this.setState({ hidden : false }, this.setHandlers))\n  }\n\n  close() {\n    const duration = getMaxTransitionDuration(this.elem.current)\n    this.closeTimer = setTimeout(this.hide, duration)\n    this.clearHandlers()\n    if(this.props.modal || this.elem.current.contains(document.activeElement)) {\n      this.anchor?.focus()\n    }\n  }\n\n  hide = () => {\n    clearTimeout(this.closeTimer)\n    this.closeTimer = null\n    if(!this.elem.current || this.state.hidden) {\n      return\n    }\n    this.setState({ hidden : true })\n  }\n\n  setHandlers = () => {\n    document.addEventListener('click', this.onDocClick)\n    document.addEventListener('focusin', this.onDocFocusIn)\n    document.addEventListener('keydown', this.onDocKeyDown, true)\n    if(this.props.modal) {\n      return\n    }\n    document.addEventListener('scroll', this.onDocScroll, true)\n    window.addEventListener('resize', this.onWinResize)\n  }\n\n  clearHandlers = () => {\n    document.removeEventListener('click', this.onDocClick)\n    document.removeEventListener('focusin', this.onDocFocusIn)\n    document.removeEventListener('keydown', this.onDocKeyDown)\n    if(this.props.modal) {\n      return\n    }\n    document.removeEventListener('scroll', this.onDocScroll, true)\n    window.removeEventListener('resize', this.onWinResize)\n    clearTimeout(this.positionTimer)\n    this.positionTimer = null\n  }\n\n  updatePositionTick = (debounce = null) => {\n    clearTimeout(this.positionTimer)\n    this.positionTimer = setTimeout(this.updatePositionTick, debounce || INTERVAL)\n    debounce || this.updatePosition()\n  }\n\n  updatePosition = () => {\n    const node = this.elem.current\n    if(this.props.hidden || !this.anchor) {\n      node.dataset.direction = 'none'\n      return\n    }\n    const style = node.style\n    style.transition = null\n    if(this.props.direction === 'none') {\n      node.dataset.direction = 'none'\n      this.position = [style.top = null, style.left = null]\n      return\n    }\n    const rectA = this.anchor.getBoundingClientRect()\n    const rectP = node.getBoundingClientRect()\n    const { alternatives, fallback } = directions[this.props.direction]\n    let direction, position\n    for(direction of [this.props.direction, ...alternatives]) {\n      position = directions[direction].handler(rectA, rectP) || null\n      if(position) {\n        break\n      }\n    }\n    const [top, left] = position || fallback()\n    node.dataset.direction = position? direction : 'auto'\n    style.top = Math.min(Math.max(top, 0), window.innerHeight - rectP.height) + 'px'\n    style.left = Math.min(Math.max(left, 0), window.innerWidth - rectP.width) + 'px'\n    this.position = [rectA.top, rectA.left]\n  }\n\n  onKeyDown = e => {\n    if(this.props.hidden || e.code !== 'Escape') {\n      return\n    }\n    e.stopPropagation()\n    this.props.onCancelEvent?.(e)\n  }\n\n  onDocClick = e => {\n    if(this.props.hidden) {\n      return\n    }\n    if(e.target !== this.elem.current && this.elem.current.contains(e.target)) {\n      return\n    }\n    if(this.anchor?.contains(e.target)) {\n      return\n    }\n    this.props.onCancelEvent?.(e)\n  }\n\n  onDocFocusIn = e => {\n    if(this.props.hidden) {\n      return\n    }\n    if(this.elem.current.contains(e.target) || this.anchor?.contains(e.target)) {\n      return\n    }\n    const popup = e.target.closest('.Popup')\n    if(popup && popup.classList.contains('modal') && !popup.contains(this.elem.current)) {\n      return\n    }\n    this.props.onCancelEvent?.(e)\n  }\n\n  onDocKeyDown = e => {\n    if(this.props.hidden || e.code !== 'Escape') {\n      return\n    }\n    if(e.target === document.body || this.anchor?.contains(e.target)) {\n      e.stopPropagation()\n      this.props.onCancelEvent?.(e)\n    }\n  }\n\n  onDocScroll = e => {\n    if(this.props.hidden || !this.anchor || this.props.direction === 'none') {\n      return\n    }\n    if(!e.target.contains(this.elem.current)) {\n      return\n    }\n    const rectA = this.anchor.getBoundingClientRect()\n    const rectP = this.elem.current.getBoundingClientRect()\n    const [top, left] = this.position\n    const style = this.elem.current.style\n    style.transition = 'none'\n    style.top = rectA.top + rectP.top - top + 'px'\n    style.left = rectA.left + rectP.left - left + 'px'\n    this.position = [rectA.top, rectA.left]\n    this.updatePositionTick(DEBOUNCE)\n  }\n\n  onWinResize = () => {\n    if(this.props.hidden || !this.anchor) {\n      return\n    }\n    this.updatePositionTick(DEBOUNCE)\n  }\n\n  get anchor() {\n    let anchor = this.props.anchor\n    if(anchor) {\n      // DOM node\n      let result = anchor\n      if(isAnchorInterface(result)) {\n        return result\n      }\n      // Component instance\n      result = anchor.node || anchor.elem?.current\n      if(result && isAnchorInterface(result)) {\n        return result\n      }\n      // Ref object\n      result = anchor.current?.elem?.current || anchor.current\n      if(result && isAnchorInterface(result)) {\n        return result\n      }\n    }\n    return null\n  }\n\n  get node() {\n    return this.elem.current\n  }\n\n  static defaultProps = {\n    direction : 'bottom-right'\n  }\n}\n\nconst methods = ['focus', 'contains', 'getBoundingClientRect']\nconst isAnchorInterface = anchor => {\n  if(methods.every(name => typeof anchor[name] === 'function')) {\n    return anchor\n  }\n  return null\n}\n\nfunction getMaxTransitionDuration(node) {\n  const style = getComputedStyle(node)\n  const items = style.transitionDuration.split(', ')\n  const durations = items.map(duration => parseFloat(duration) * 1000)\n  return Math.max(...durations)\n}\n\nconst directions = {\n  'top-left' : {\n    handler : (anchor, popup) => {\n      if(anchor.top - popup.height > 0) {\n        return [anchor.top - popup.height, anchor.right - popup.width]\n      }\n    },\n    fallback : () => [0, 0],\n    alternatives : ['bottom-left', 'left-top', 'right-top'],\n  },\n  'top-right' : {\n    handler : (anchor, popup) => {\n      if(anchor.top - popup.height > 0) {\n        return [anchor.top - popup.height, anchor.left]\n      }\n    },\n    fallback : () => [0, window.innerWidth],\n    alternatives : ['bottom-right', 'right-top', 'left-top'],\n  },\n  'right-top' : {\n    handler : (anchor, popup) => {\n      if(anchor.right + popup.width < window.innerWidth) {\n        return [anchor.bottom - popup.height, anchor.right]\n      }\n    },\n    fallback : () => [0, window.innerWidth],\n    alternatives : ['left-top', 'top-right', 'bottom-right'],\n  },\n  'right-bottom' : {\n    handler : (anchor, popup) => {\n      if(anchor.right + popup.width < window.innerWidth) {\n        return [anchor.top, anchor.right]\n      }\n    },\n    fallback : () => [window.innerHeight, window.innerWidth],\n    alternatives : ['left-bottom', 'bottom-right', 'top-right'],\n  },\n  'bottom-right' : {\n    handler : (anchor, popup) => {\n      if(anchor.bottom + popup.height < window.innerHeight) {\n        return [anchor.bottom, anchor.left]\n      }\n    },\n    fallback : () => [window.innerHeight, window.innerWidth],\n    alternatives : ['top-right', 'right-bottom', 'left-bottom'],\n  },\n  'bottom-left' : {\n    handler : (anchor, popup) => {\n      if(anchor.bottom + popup.height < window.innerHeight) {\n        return [anchor.bottom, anchor.right - popup.width]\n      }\n    },\n    fallback : () => [window.innerHeight, 0],\n    alternatives : ['top-left', 'left-bottom', 'right-bottom'],\n  },\n  'left-bottom' : {\n    handler : (anchor, popup) => {\n      if(anchor.left - popup.width > 0) {\n        return [anchor.top, anchor.left - popup.width]\n      }\n    },\n    fallback : () => [window.innerHeight, 0],\n    alternatives : ['right-bottom', 'bottom-left', 'top-left'],\n  },\n  'left-top' : {\n    handler : (anchor, popup) => {\n      if(anchor.left - popup.width > 0) {\n        return [anchor.bottom - popup.height, anchor.left - popup.width]\n      }\n    },\n    fallback : () => [0, 0],\n    alternatives : ['right-top', 'top-left', 'bottom-left'],\n  },\n}\n","import React from 'react'\nimport { Label } from './Label'\nimport { Control } from './Control'\nimport './TextBox.css'\n\nexport class TextBox extends React.Component\n{\n  state = {\n    value : this.props.defaultValue || ''\n  }\n\n  elem = React.createRef()\n\n  edit = React.createRef()\n\n  render() {\n    return (\n      <div\n        className=\"TextBox Widget\"\n        tabIndex={ this.props.disabled? null : -1 }\n        aria-disabled={ this.props.disabled }\n        onFocus={ this.onFocus }\n        ref={ this.elem }\n      >\n        { this.props.label && <Label>{ this.props.label }</Label> }\n        <Control>\n          <div\n            className=\"Edit\"\n            tabIndex={ this.props.disabled? null : 0 }\n            contentEditable={ !this.props.disabled }\n            role=\"textbox\"\n            aria-disabled={ this.props.disabled }\n            onInput={ this.onInput }\n            onKeyDown={ this.onKeyDown }\n            onPaste={ this.onPaste }\n            ref={ this.edit }\n          />\n        </Control>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    this.edit.current.textContent = this.props.value ?? this.state.value\n    this.node.addEventListener('change', this.onChange)\n  }\n\n  componentDidUpdate() {\n    if(typeof this.props.value === 'undefined') {\n      return\n    }\n    const node = this.edit.current\n    node.textContent = this.props.value\n    if(this.props.onChange || !node.firstChild || node !== document.activeElement) {\n      return\n    }\n    const selection = getSelection()\n    selection.collapse(node.firstChild, this._anchorOffset)\n    selection.extend(node.firstChild, this._focusOffset)\n  }\n\n  componentWillUnmount() {\n    this.node.removeEventListener('change', this.onChange)\n  }\n\n  onFocus = () => {\n    this.edit.current.focus()\n  }\n\n  onInput = e => {\n    this.setState({ value : e.target.textContent })\n    this.node.dispatchEvent(new Event('change', { bubbles : true }))\n  }\n\n  onChange = e => {\n    e.target.value = this.edit.current.textContent\n    this.props.onChange?.(e)\n  }\n\n  onKeyDown = e => {\n    const handler = this['onKeyDown_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n    const selection = getSelection()\n    this._anchorOffset = selection.anchorOffset\n    this._focusOffset = selection.focusOffset\n  }\n\n  onKeyUp = e => {\n    const handler = this['onKeyUp_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyDown_Enter(e) {\n    if(!this.props.multiLine) {\n      e.preventDefault()\n    }\n  }\n\n  onPaste = e => {\n    e.preventDefault()\n    if(this.props.readOnly) {\n      return\n    }\n    const data = e.clipboardData.getData('text')\n    const node = this.edit.current\n    const text = node.textContent\n    const selection = getSelection()\n    const startOffset = Math.min(selection.anchorOffset, selection.focusOffset)\n    const endOffset = Math.max(selection.anchorOffset, selection.focusOffset)\n    const beforeText = text.slice(0, startOffset)\n    const afterText = text.slice(endOffset, text.length)\n    node.textContent = beforeText + data + afterText\n    selection.collapse(node.firstChild, beforeText.length + data.length)\n    node.dispatchEvent(new InputEvent('input', { bubbles : true }))\n  }\n\n  get node() {\n    return this.elem.current\n  }\n\n  get value() {\n    return this.node.textContent\n  }\n}\n","import React from 'react'\nimport generateId from './generateId'\nimport { Popup } from './Popup'\nimport { DialogHead } from './DialogHead'\nimport { DialogBody } from './DialogBody'\nimport { Heading } from './Heading'\nimport { CancelButton } from './CancelButton'\nimport './Dialog.css'\n\nexport class Dialog extends React.Component\n{\n  elem = React.createRef()\n\n  headingId = this.props.title && generateId()\n\n  render() {\n    return (\n      <Popup\n        modal={ this.props.modal }\n        hidden={ this.props.hidden }\n        anchor={ this.props.anchor }\n        direction={ this.props.direction }\n        onCancelEvent={ this.props.onCancelEvent }\n      >\n        <div\n          className=\"Dialog\"\n          id={ this.props.id }\n          role=\"dialog\"\n          aria-modal={ this.props.modal }\n          aria-hidden={ this.props.hidden }\n          aria-labelledby={ this.headingId }\n          onKeyDown={ this.onKeyDown }\n          ref={ this.elem }\n        >{\n          !this.props.title? this.props.children :\n            (<>\n              <DialogHead>\n                <Heading id={ this.headingId }>{ this.props.title }</Heading>\n                <CancelButton/>\n              </DialogHead>\n              <DialogBody>\n                { this.props.children }\n              </DialogBody>\n            </>)\n        }</div>\n      </Popup>\n    )\n  }\n\n  componentDidMount() {\n    this.setFocus()\n  }\n\n  componentDidUpdate() {\n    this.setFocus()\n  }\n\n  setFocus() {\n    if(this.props.hidden || !this.props.modal) {\n      return\n    }\n    const node = this.node\n    const autofocus = node.querySelector('[autofocus]')\n    node.removeAttribute('tabindex')\n    if(autofocus) {\n      autofocus.focus()\n      return\n    }\n    const nodes = this.getTabSequence()\n    if(nodes[0]) {\n      nodes[0].focus()\n      return\n    }\n    node.tabIndex = -1\n    node.focus()\n  }\n\n  getTabSequence(node = this.node) {\n    const result = []\n    for(const child of node.children) {\n      if(getComputedStyle(child).display === 'none') {\n        continue\n      }\n      if(child.isContentEditable && !child.hasAttribute('tabindex')) {\n        result.push(child)\n      }\n      else if(child.tabIndex > -1) {\n        if(child.disabled) {\n          continue\n        }\n        if(child.tagName === 'INPUT' && child.type === 'hidden') {\n          continue\n        }\n        if('href' in child && !child.href) {\n          continue\n        }\n        result.push(child)\n      }\n      if(child.hasChildNodes()) {\n        result.push(...this.getTabSequence(child))\n      }\n    }\n    return result\n  }\n\n  onKeyDown = e => {\n    const handler = this['onKeyDown_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyDown_Tab(e) {\n    if(!this.props.modal) {\n      return\n    }\n    const nodes = this.getTabSequence()\n    if(!nodes.length) {\n      e.preventDefault()\n      return\n    }\n    const first = nodes[0]\n    const last = nodes[nodes.length - 1]\n    if(e.shiftKey && e.target === first) {\n      e.preventDefault()\n      last.focus()\n    }\n    else if(!e.shiftKey && e.target === last) {\n      e.preventDefault()\n      first.focus()\n    }\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import { Button } from './Button'\nimport { CancelContext } from './Popup'\n\nexport function CloseButton(props) {\n  const { onClick, ...rest } = props\n  return (\n    <CancelContext.Consumer>\n      { onCancelEvent => (\n        <Button\n          classList=\"CloseButton\"\n          onClick={ onClick || onCancelEvent }\n          { ...rest }\n        />\n      ) }\n    </CancelContext.Consumer>\n  )\n}\n","import React from 'react'\nimport './Option.css'\n\nexport class Option extends React.Component\n{\n  state = {\n    active : false,\n  }\n\n  elem = React.createRef()\n\n  render() {\n    return (\n      <div\n        className={ ['Option Widget', this.state.active && 'active'].filter(Boolean).join(' ') }\n        role=\"option\"\n        aria-selected={ this.props.selected }\n        aria-disabled={ this.props.disabled }\n        onClick={ this.onClick }\n        onMouseDown={ this.onMouseDown }\n        onMouseLeave={ this.onMouseLeave }\n        onMouseUp={ this.onMouseUp }\n        ref={ this.elem }\n      >\n        { this.props.label || this.props.children }\n      </div>\n    )\n  }\n\n  onClick = () => {\n    this.props.updateValue(this.props.value)\n  }\n\n  onMouseDown = () => {\n    if(!this.props.disabled) {\n      this.setState({ active : true })\n    }\n  }\n\n  onMouseLeave = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  onMouseUp = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import React from 'react'\nimport { Control } from './Control'\nimport { Label } from './Label'\nimport { Option } from './Option'\nimport './ListBox.css'\n\nexport class ListBox extends React.Component\n{\n  state = {\n    active : false,\n    value : this.props.defaultValue || null,\n  }\n\n  elem = React.createRef()\n\n  render() {\n    const value = this.props.value ?? this.state.value\n    const tabIndex = this.props.disabled? null : this.props.tabIndex\n    return (\n      <div\n        className={ ['ListBox Widget', this.state.active && 'active'].filter(Boolean).join(' ') }\n        id={ this.props.id }\n        tabIndex={ typeof tabIndex === 'undefined'? 0 : tabIndex }\n        role=\"listbox\"\n        aria-disabled={ this.props.disabled }\n        onClick={ this.onClick }\n        onKeyDown={ this.onKeyDown }\n        onKeyUp={ this.onKeyUp }\n        ref={ this.elem }\n      >\n        { this.props.label && <Label>{ this.props.label }</Label> }\n        <Control>{\n          this.props.options.map(option => (\n            <Option\n              label={ option.label || option.value }\n              key={ option.value || option.label }\n              value={ option.value || option.label }\n              selected={ option.value === value }\n              disabled={ this.props.disabled }\n              updateValue={ this.updateValue }\n            />\n          ))\n        }</Control>\n      </div>\n    )\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const value = this.props.value\n    if(typeof value === 'undefined') {\n      return\n    }\n    if(this.state.value === value) {\n      return\n    }\n    this.setState({ value })\n  }\n\n  updateValue = value => {\n    if(this.props.disabled) {\n      return\n    }\n    this.setState({ value })\n    this.props.onChange?.(value)\n  }\n\n  onClick = e => {\n    this.props.onClick?.(e)\n  }\n\n  onKeyDown = e => {\n    const handler = this['onKeyDown_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyUp = e => {\n    const handler = this['onKeyUp_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyDown_ArrowUp(e) {\n    e.preventDefault()\n    const value = this.props.value || this.state.value\n    const options = this.props.options\n    let index = value?\n      options.findIndex(option => option.value === value) :\n      options.length\n    if(--index > -1) {\n      this.updateValue(options[index].value)\n    }\n  }\n\n  onKeyDown_ArrowDown(e) {\n    e.preventDefault()\n    const value = this.props.value || this.state.value\n    const options = this.props.options\n    let index = options.findIndex(option => option.value === value)\n    if(++index < options.length) {\n      this.updateValue(options[index].value)\n    }\n  }\n\n  onKeyDown_Space(e) {\n    e.preventDefault()\n    this.setState({ active : true })\n  }\n\n  onKeyUp_Space() {\n    this.setState({ active : false })\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","let counter = 0\n\nexport default function generateId() { // fixme: 1, 3, 5, 7, ...\n  let id, str\n  do {\n    str = (counter++).toString(36)\n    id = 'ID_' + '0'.repeat(Math.max(0, 7 - str.length)) + str\n  }\n  while(document.getElementById(id))\n  return id\n}\n","import React from 'react'\nimport './DialogHead.css'\n\nexport function DialogHead(props) {\n  return (\n    <div className=\"DialogHead\">{ props.children }</div>\n  )\n}\n","import React from 'react'\nimport './DialogBody.css'\n\nexport class DialogBody extends React.Component\n{\n  elem = React.createRef()\n\n  render() {\n    return (\n      <div\n        className=\"DialogBody\"\n        onScroll={ this.onScroll }\n        ref={ this.elem }\n      >\n        { this.props.children }\n      </div>\n    )\n  }\n\n  onScroll = () => {\n    this.elem.current.classList.toggle('scrolled', !!this.elem.current.scrollTop)\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import { Button } from './Button'\nimport { CancelContext } from './Popup'\nimport './CancelButton.css'\n\nexport function CancelButton(props) {\n  return (\n    <CancelContext.Consumer>\n      { onCancelEvent => (\n        <Button\n          classList=\"CancelButton\"\n          tabIndex={ typeof props.tabIndex === 'undefined'? -1 : props.tabIndex }\n          title={ props.title || 'Cancel' }\n          disabled={ props.disabled }\n          onClick={ props.onClick || onCancelEvent }\n        />\n      ) }\n    </CancelContext.Consumer>\n  )\n}\n","import React, { useState } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { Button } from './Button'\n\nexport default function ButtonExample() {\n  const [pressed, setPressed] = useState(true)\n  return (\n    <Example>\n      <Heading>Button</Heading>\n      <Button>Simple</Button>\n      <Button\n        pressed={ pressed }\n        onClick={ () => setPressed(!pressed) }\n      >\n        Pressed (controlled)\n      </Button>\n      <Button defaultPressed={ true }>Pressed (uncontrolled)</Button>\n      <Button disabled={ true }>Disabled</Button>\n    </Example>\n  )\n}\n","import React, { useState } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { ListBox } from './ListBox'\n\nconst options = [\n  'jQuery',\n  'Angular',\n  'React',\n  'Vue',\n  'Ember',\n  'Backbone',\n  'Svelte',\n]\n.map((label, i) => ({ label, value : String(i) }))\n\nexport default function ListBoxExample() {\n  const [value, setValue] = useState(options[2].value)\n  return (\n    <Example>\n      <Heading>ListBox</Heading>\n      <ListBox\n        label=\"Not selected\"\n        options={ options }\n      />\n      <ListBox\n        label=\"Controlled\"\n        options={ options }\n        value={ value }\n        onChange={ value => setValue(value) }\n      />\n      <ListBox\n        label=\"Uncontrolled\"\n        options={ options }\n        defaultValue={ options[2].value }\n      />\n      <ListBox\n        label=\"Disabled\"\n        options={ options }\n        disabled\n      />\n    </Example>\n  )\n}\n","import React, { useState } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { TextBox } from './TextBox'\n\nexport default function TextBoxExample() {\n  const [value, setValue] = useState('Hello React!')\n  return (\n    <Example>\n      <Heading>TextBox</Heading>\n      <TextBox label=\"Empty\"/>\n      <TextBox\n        label=\"Controlled\"\n        value={ value }\n        onChange={ e => setValue(e.target.value) }\n      />\n      <TextBox\n        label=\"Uncontrolled\"\n        defaultValue=\"Hello React!\"\n      />\n      <TextBox\n        label=\"Disabled\"\n        disabled\n      />\n    </Example>\n  )\n}\n","import React, { useState, useCallback } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { Button } from './Button'\nimport { Popup } from './Popup'\n\nfunction PopupSimpleExample() {\n  const [hidden, setHidden] = useState(true)\n  const [anchor, setAnchor] = useState(null)\n  const getAnchor = useCallback(elem => elem === null || setAnchor(elem), [])\n  return (\n    <>\n      <Button\n        onClick={ () => setHidden(!hidden) }\n        ref={ getAnchor }\n      >\n        Open popup\n      </Button>\n      <Popup\n        hidden={ !anchor || hidden }\n        anchor={ anchor }\n        onCancelEvent={ () => setHidden(true) }\n      >\n        <Button onClick={ () => setHidden(true) }>Close the popup</Button>\n      </Popup>\n    </>\n  )\n}\n\nfunction PopupModalExample() {\n  const [expanded, setExpanded] = useState(false)\n  const [anchor, setAnchor] = useState(null)\n  const getAnchor = useCallback(elem => elem === null || setAnchor(elem), [])\n  return (\n    <>\n      <Button\n        onClick={ () => setExpanded(!expanded) }\n        ref={ getAnchor }\n      >\n        Open modal popup\n      </Button>\n      <Popup\n        modal\n        hidden={ !anchor || !expanded }\n        anchor={ anchor }\n        onCancelEvent={ e => e.type === 'focusin' || setExpanded(false) }\n      >\n        <Button onClick={ () => setExpanded(false) }>Close the popup</Button>\n      </Popup>\n    </>\n  )\n}\n\nexport default function PopupExample() {\n  return (\n    <Example>\n      <Heading>Popup</Heading>\n      <PopupSimpleExample/>\n      <PopupModalExample/>\n    </Example>\n  )\n}\n","import React, { useState, useCallback } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { Button } from './Button'\nimport { Dialog } from './Dialog'\nimport { TextBox } from './TextBox'\nimport { CloseButton } from './CloseButton'\n\nfunction DialogSimpleExample() {\n  const [expanded, setExpanded] = useState(false)\n  const [anchor, setAnchor] = useState(null)\n  const getAnchor = useCallback(elem => elem && setAnchor(elem), [])\n  return (\n    <>\n      <Button\n        onClick={ () => setExpanded(!expanded) }\n        ref={ getAnchor }\n      >\n        Open dialog\n      </Button>\n      <Dialog\n        title=\"Hello!\"\n        hidden={ !anchor || !expanded }\n        anchor={ anchor }\n        onCancelEvent={ () => setExpanded(false) }\n      >\n        <TextBox label=\"Say something\"/>\n        <CloseButton>Close</CloseButton>\n      </Dialog>\n    </>\n  )\n}\n\nfunction DialogModalExample() {\n  const [hidden, setHidden] = useState(true)\n  const [anchor, setAnchor] = useState(null)\n  const getAnchor = useCallback(elem => elem && setAnchor(elem), [])\n  return (\n    <>\n      <Button\n        onClick={ () => setHidden(!hidden) }\n        ref={ getAnchor }\n      >\n        Open modal dialog\n      </Button>\n      <Dialog\n        modal\n        title=\"Hello!\"\n        hidden={ !anchor || hidden }\n        anchor={ anchor }\n        onCancelEvent={ () => setHidden(true) }\n      >\n        <TextBox label=\"Say something\"/>\n        <CloseButton>Close</CloseButton>\n      </Dialog>\n    </>\n  )\n}\n\nexport default function DialogExample() {\n  return (\n    <Example>\n      <Heading>Dialog</Heading>\n      <DialogSimpleExample/>\n      <DialogModalExample/>\n    </Example>\n  )\n}\n","import React from 'react'\nimport { Control } from './Control'\nimport { Label } from './Label'\nimport './Radio.css'\n\nexport class Radio extends React.Component\n{\n  state = {\n    active : false,\n  }\n\n  elem = React.createRef()\n\n  render() {\n    const classList = [\n      'Radio Widget',\n      this.state.active && 'active',\n      this.props.focus && 'focus',\n    ]\n    return (\n      <div\n        className={ classList.filter(Boolean).join(' ') }\n        role=\"radio\"\n        aria-checked={ this.props.checked }\n        aria-disabled={ this.props.disabled }\n        onClick={ this.onClick }\n        onMouseDown={ this.onMouseDown }\n        onMouseLeave={ this.onMouseLeave }\n        onMouseUp={ this.onMouseUp }\n        ref={ this.elem }\n      >\n        <Control/>\n        { this.props.label && <Label>{ this.props.label }</Label> }\n      </div>\n    )\n  }\n\n  onClick = () => {\n    this.props.updateValue(this.props.value)\n  }\n\n  onMouseDown = () => {\n    if(!this.props.disabled) {\n      this.setState({ active : true })\n    }\n  }\n\n  onMouseLeave = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  onMouseUp = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import React from 'react'\nimport { Radio } from './Radio'\nimport { Label } from './Label'\nimport './RadioGroup.css'\n\nexport class RadioGroup extends React.Component\n{\n  state = {\n    active : false,\n    value : this.props.defaultValue || null,\n  }\n\n  elem = React.createRef()\n\n  render() {\n    const value = this.props.value ?? this.state.value\n    return (\n      <div\n        className={ ['RadioGroup Widget', this.state.active && 'active'].filter(Boolean).join(' ') }\n        tabIndex={ this.props.disabled? null : 0 }\n        role=\"radiogroup\"\n        aria-disabled={ this.props.disabled }\n        onKeyDown={ this.onKeyDown }\n        onKeyUp={ this.onKeyUp }\n        ref={ this.elem }\n      >\n        { this.props.label && <Label>{ this.props.label }</Label> }\n        {\n          this.props.radios.map((radio, i) => {\n            return (\n              <Radio\n                label={ radio.label }\n                key={ radio.value || radio.label }\n                value={ radio.value || radio.label }\n                checked={ radio.value === value }\n                disabled={ this.props.disabled }\n                focus={ value? radio.value === value : !i }\n                updateValue={ this.updateValue }\n              />\n            )\n          })\n        }\n      </div>\n    )\n  }\n\n  updateValue = value => {\n    if(this.props.disabled) {\n      return\n    }\n    this.setState({ value })\n    this.props.onChange?.(value)\n  }\n\n  moveFocus(offset) {\n    const value = this.props.value || this.state.value\n    const radios = this.props.radios\n    let index = radios.length + offset\n    if(value) {\n      index += radios.findIndex(radio => radio.value === value)\n    }\n    index %= radios.length\n    this.updateValue(radios[index].value)\n  }\n\n  onKeyDown = e => {\n    const handler = this['onKeyDown_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyUp = e => {\n    const handler = this['onKeyUp_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyDown_ArrowUp(e) {\n    e.preventDefault()\n    this.moveFocus(-1)\n  }\n\n  onKeyDown_ArrowDown(e) {\n    e.preventDefault()\n    this.moveFocus(1)\n  }\n\n  onKeyDown_ArrowLeft(e) {\n    e.preventDefault()\n    this.moveFocus(-1)\n  }\n\n  onKeyDown_ArrowRight(e) {\n    e.preventDefault()\n    this.moveFocus(1)\n  }\n\n  onKeyDown_Space(e) {\n    e.preventDefault()\n    this.setState({ active : true })\n  }\n\n  onKeyUp_Space() {\n    this.setState({\n      active : false,\n      value : this.state.value || this.props.radios[0].value\n    })\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import React, { useState } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { RadioGroup } from './RadioGroup'\n\nconst radios = [\n  'Babel',\n  'React',\n  'Webpack',\n]\n.map((label, i) => ({ label, value : String(i) }))\n\nexport default function RadioGroupExample() {\n  const [value, setValue] = useState(radios[1].value)\n  return (\n    <Example>\n      <Heading>RadioGroup</Heading>\n      <RadioGroup\n        label=\"Not checked\"\n        radios={ radios }\n      />\n      <RadioGroup\n        label=\"Controlled\"\n        radios={ radios }\n        value={ value }\n        onChange={ value => setValue(value) }\n      />\n      <RadioGroup\n        label=\"Uncontrolled\"\n        radios={ radios }\n        defaultValue={ radios[1].value }\n      />\n      <RadioGroup\n        label=\"Disabled\"\n        radios={ radios }\n        disabled\n      />\n    </Example>\n  )\n}\n","import React, { createElement } from 'react'\nimport './Showcase.css'\n\nclass Showcase extends React.Component\n{\n  render() {\n    return (\n      <div className=\"Showcase\">\n        { createElement(require('./Button.example').default) }\n        { createElement(require('./CheckBox.example').default) }\n        { createElement(require('./RadioGroup.example').default) }\n        { createElement(require('./ListBox.example').default) }\n        { createElement(require('./TextBox.example').default) }\n        { createElement(require('./Popup.example').default) }\n        { createElement(require('./SelectBox.example').default) }\n        { createElement(require('./Dialog.example').default) }\n        { createElement(require('./DialogButton.example').default) }\n      </div>\n    )\n  }\n}\n\nexport { Showcase }\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './root.css'\nimport './index.css'\nimport { Showcase } from './Showcase'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Showcase/>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n","import React from 'react'\nimport { Control } from './Control'\nimport { Label } from './Label'\nimport './CheckBox.css'\n\nexport class CheckBox extends React.Component\n{\n  state = {\n    active : false,\n    checked : this.props.defaultChecked || false,\n  }\n\n  elem = React.createRef()\n\n  render() {\n    return (\n      <div\n        className={ ['CheckBox Widget', this.state.active && 'active'].filter(Boolean).join(' ') }\n        tabIndex={ this.props.disabled? null : 0 }\n        role=\"checkbox\"\n        aria-checked={ this.props.checked ?? this.state.checked }\n        aria-disabled={ this.props.disabled }\n        onBlur={ this.onBlur }\n        onClick={ this.onClick }\n        onMouseDown={ this.onMouseDown }\n        onMouseLeave={ this.onMouseLeave }\n        onMouseUp={ this.onMouseUp }\n        onKeyDown={ this.onKeyDown }\n        onKeyUp={ this.onKeyUp }\n        ref={ this.elem }\n      >\n        <Control/>\n        { this.props.label && <Label>{ this.props.label }</Label> }\n      </div>\n    )\n  }\n\n  activate() {\n    if(this.state.checked !== undefined) {\n      this.setState(state => ({ checked : !state.checked }))\n    }\n  }\n\n  onBlur = () => {\n    this.state.active && this.setState({ active : false })\n  }\n\n  onClick = e => {\n    this.props.onClick?.(e)\n    if(this.props.disabled) {\n      e.preventDefault()\n      e.nativeEvent.stopImmediatePropagation()\n    }\n    e.defaultPrevented || this.activate()\n  }\n\n  onMouseDown = () => {\n    if(!this.props.disabled) {\n      this.setState({ active : true })\n    }\n  }\n\n  onMouseLeave = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  onMouseUp = () => {\n    if(!this.props.disabled && this.state.active) {\n      this.setState({ active : false })\n    }\n  }\n\n  onKeyDown = e => {\n    const handler = this['onKeyDown_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyUp = e => {\n    const handler = this['onKeyUp_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyDown_Space(e) {\n    e.preventDefault()\n    this.setState({ active : true })\n  }\n\n  onKeyUp_Space() {\n    this.setState({ active : false })\n    this.elem.current.click()\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import React, { useState } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { CheckBox } from './CheckBox'\n\nexport default function CheckBoxExample() {\n  const [checked, setChecked] = useState(true)\n  return (\n    <Example>\n      <Heading>CheckBox</Heading>\n      <CheckBox label=\"Not checked\"/>\n      <CheckBox\n        label=\"Controlled\"\n        checked={ checked }\n        onClick={ () => setChecked(!checked) }\n      />\n      <CheckBox\n        label=\"Uncontrolled\"\n        defaultChecked\n      />\n      <CheckBox\n        label=\"Mixed\"\n        defaultChecked=\"mixed\"\n      />\n      <CheckBox\n        label=\"Disabled\"\n        disabled\n      />\n    </Example>\n  )\n}\n","import React from 'react'\nimport generateId from './generateId'\nimport { Label } from './Label'\nimport { Control } from './Control'\nimport { Popup } from './Popup'\nimport { ListBox } from './ListBox'\nimport './SelectBox.css'\n\nexport class SelectBox extends React.Component\n{\n  state = {\n    rendered : false,\n    active : false,\n    expanded : false,\n    value : this.props.defaultValue || null,\n  }\n\n  elem = React.createRef()\n\n  getElem = current => {\n    this.elem.current = current\n    this.state.rendered || this.setState({ rendered : true })\n  }\n\n  listBox = React.createRef()\n\n  listBoxId = generateId()\n\n  render() {\n    const classList = ['SelectBox Widget', this.state.active && 'active']\n    const value = this.props.value ?? this.state.value\n    const option = value && this.props.options.find(option => option.value === value)\n    return (\n      <>\n        <div\n          className={ classList.filter(Boolean).join(' ') }\n          tabIndex={ this.props.disabled? null : 0 }\n          role=\"combobox\"\n          aria-haspopup=\"listbox\"\n          aria-controls={ this.listBoxId }\n          aria-expanded={ this.state.expanded }\n          aria-required={ this.props.required }\n          aria-disabled={ this.props.disabled }\n          onClick={ this.onClick }\n          onKeyDown={ this.onKeyDown }\n          onKeyUp={ this.onKeyUp }\n          ref={ this.getElem }\n        >\n          { this.props.label && <Label>{ this.props.label }</Label> }\n          <Control>\n            <div className=\"Inner\">{ option?.label || '' }</div>\n          </Control>\n        </div>\n        { this.state.rendered && (\n          <Popup\n            hidden={ !this.state.expanded }\n            anchor={ this.node }\n            onCancelEvent={ this.activate }\n          >\n            <ListBox\n              id={ this.listBoxId }\n              tabIndex={ null }\n              options={ this.props.options }\n              value={ value }\n              onClick={ this.onListBoxClick }\n              onChange={ this.onListBoxChange }\n              ref={ this.listBox }\n            />\n          </Popup>\n        ) }\n      </>\n    )\n  }\n\n  activate = () => {\n    this.setState(state => ({ expanded : !state.expanded }))\n  }\n\n  onClick = e => {\n    if(this.props.disabled) {\n      e.preventDefault()\n      e.nativeEvent.stopImmediatePropagation()\n    }\n    e.defaultPrevented || this.activate()\n  }\n\n  onKeyDown = e => {\n    const handler = this['onKeyDown_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n    if(!['ArrowUp', 'ArrowDown'].includes(e.code)) {\n      return\n    }\n    if(this.state.expanded) {\n      this.listBox.current.onKeyDown(e)\n      return\n    }\n    e.preventDefault()\n    this.setState({ expanded : true })\n  }\n\n  onKeyDown_Backspace() {\n    if(this.props.required) {\n      return\n    }\n    if(!this.props.value && !this.state.value) {\n      return\n    }\n    this.setState({ value : null })\n    this.props.onChange?.(null)\n  }\n\n  onKeyDown_Enter(e) {\n    e.stopPropagation()\n    this.activate()\n  }\n\n  onKeyDown_Escape(e) {\n    if(this.state.expanded) {\n      e.stopPropagation()\n      this.setState({ expanded : false })\n    }\n  }\n\n  onKeyDown_Space(e) {\n    e.preventDefault()\n    if(!e.repeat) {\n      this.setState({ active : true })\n    }\n  }\n\n  onKeyUp = e => {\n    const handler = this['onKeyUp_' + e.code]\n    if(typeof handler === 'function') {\n      handler.call(this, e)\n    }\n  }\n\n  onKeyUp_Space() {\n    this.setState({ active : false })\n    this.node.click()\n  }\n\n  onListBoxChange = value => {\n    if(typeof this.props.value === 'undefined') {\n      this.setState({ value })\n    }\n    this.props.onChange?.(value)\n  }\n\n  onListBoxClick = e => {\n    e.stopPropagation()\n    this.node.focus()\n    if(this.props.multiSelectable) { // todo\n      return\n    }\n    if(this.props.checkable && !this.props.required) { // todo\n      return\n    }\n    this.setState({ expanded : false })\n  }\n\n  get node() {\n    return this.elem.current\n  }\n}\n","import React, { useState } from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { SelectBox } from './SelectBox'\n\nconst options = [\n  'jQuery',\n  'Angular',\n  'React',\n  'Vue',\n  'Ember',\n  'Backbone',\n  'Svelte',\n]\n.map((label, i) => ({ label, value : String(i) }))\n\nexport default function SelectBoxExample() {\n  const [value, setValue] = useState(options[2].value)\n  return (\n    <Example>\n      <Heading>SelectBox</Heading>\n      <SelectBox\n        label=\"Not selected\"\n        options={ options }\n      />\n      <SelectBox\n        label=\"Controlled\"\n        options={ options }\n        value={ value }\n        onChange={ value => setValue(value) }\n      />\n      <SelectBox\n        label=\"Uncontrolled\"\n        options={ options }\n        defaultValue={ options[2].value }\n      />\n      <SelectBox\n        label=\"Required\"\n        options={ options }\n        defaultValue={ options[2].value }\n        required\n      />\n      <SelectBox\n        label=\"Disabled\"\n        options={ options }\n        disabled\n      />\n    </Example>\n  )\n}\n","import React from 'react'\nimport generateId from './generateId'\nimport { Button } from './Button'\nimport './DialogButton.css'\n\nexport class DialogButton extends React.Component\n{\n  state = {\n    rendered : false,\n    expanded : false,\n  }\n\n  elem = React.createRef()\n\n  getElem = current => {\n    this.elem.current = current\n    this.state.rendered || this.setState({ rendered : true })\n  }\n\n  dialogId = generateId()\n\n  render() {\n    return (\n      <>\n        <Button\n          { ...this.props }\n          classList={ [this.props.classList, 'DialogButton'] }\n          controls={ this.dialogId }\n          hasPopup=\"dialog\"\n          expanded={ this.state.expanded }\n          onClick={ this.onClick }\n          ref={ this.getElem }\n        />\n        {\n          this.state.rendered && this.props.dialog({\n            id : this.dialogId,\n            hidden : !this.state.expanded,\n            anchor : this.node,\n            onCancelEvent : this.props.onCancelEvent || this.onCancelEvent\n          })\n        }\n      </>\n    )\n  }\n\n  onClick = () => {\n    this.setState(state => ({ expanded : !state.expanded }))\n  }\n\n  onCancelEvent = () => {\n    this.setState({ expanded : false })\n  }\n\n  get node() {\n    return this.elem.current?.node\n  }\n}\n","import React from 'react'\nimport { Example } from './Example'\nimport { Heading } from './Heading'\nimport { DialogButton } from './DialogButton'\nimport { Dialog } from './Dialog'\nimport { DialogHead } from './DialogHead'\nimport { CancelButton } from './CancelButton'\nimport { DialogBody } from './DialogBody'\nimport { TextBox } from './TextBox'\nimport { CloseButton } from './CloseButton'\n\nexport default function DialogButtonExample() {\n  return (\n    <Example>\n      <Heading>DialogButton</Heading>\n      <DialogButton\n        label=\"Open dialog\"\n        dialog={ props => (\n          <Dialog { ...props }>\n            <DialogHead>\n              <Heading>Hello!</Heading>\n              <CancelButton/>\n            </DialogHead>\n            <DialogBody>\n              <TextBox label=\"Say something\"/>\n              <CloseButton>Close</CloseButton>\n            </DialogBody>\n          </Dialog>\n        ) }\n      />\n      <DialogButton\n        label=\"Open modal dialog\"\n        dialog={ props => (\n          <Dialog title=\"Hello!\" modal { ...props }>\n            <DialogButton\n              label=\"Open nested dialog\"\n              dialog={ props => (\n                <Dialog title=\"Hello!\" { ...props }>\n                  <TextBox label=\"Say something\"/>\n                  <CloseButton>Close</CloseButton>\n                </Dialog>\n              ) }\n            />\n            <CloseButton>Close</CloseButton>\n          </Dialog>\n        ) }\n      />\n    </Example>\n  )\n}\n"],"sourceRoot":""}